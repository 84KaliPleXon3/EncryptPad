<h1>EncryptPad</h1>
<p><img alt="README.png" src="README.png" /></p>
<p>EncryptPad is an application for viewing and editing symmetrically encrypted text. It also provides a tool for encrypting and decrypting binary files on disk. The application offers effective measures for protecting information with simple and convenient graphical and command line interface. The editor uses most widely chosen quality file format <strong>OpenPGP</strong> <a href="https://tools.ietf.org/html/rfc4880">RFC 4880</a>. Unlike other OpenPGP software which main purpose is asymmetric encryption, the primary focus of EncryptPad is symmetric encryption.</p>
<h2>Features</h2>
<ul>
<li><strong>Symmetric</strong> encryption</li>
<li><strong>Password</strong> protection</li>
<li><strong>Key file</strong> protection</li>
<li>Combination of <strong>password and key file</strong></li>
<li>Random <strong>key file generator</strong> </li>
<li><strong>Key repository</strong> in a hidden directory in user's home folder</li>
<li>Path to a key file can be stored in an encrypted file. If enabled, <strong>you do not need to specify the key file</strong> every time you open files.</li>
<li>Encryption of <strong>binary files</strong> (images, videos, archives etc.)</li>
<li><strong>Read only</strong> mode to prevent accidental file modification</li>
<li><strong>UTF8</strong> text encoding</li>
<li>Windows/Unix <strong>configurable line endings</strong></li>
<li>Customisable <strong>password generator</strong> helps create strong random passwords.</li>
<li>File format compatible with <strong>OpenPGP</strong></li>
<li><strong>Iterated and salted S2K</strong></li>
<li>Cipher algorithms: <strong>CAST5, TripleDES, AES128, AES256</strong></li>
<li>Hash algorithms: <strong>SHA-1, SHA256</strong></li>
<li>Integrity protection: <strong>SHA-1</strong></li>
<li>Compression: <strong>ZLIB, ZIP</strong></li>
</ul>
<h2>Why EncryptPad?</h2>
<ul>
<li>
<p><strong>Multi-platform</strong> codebase: it has been compiled on three popular operating systems and can be adapted to more.</p>
</li>
<li>
<p><strong>Portable</strong>: simply copy the executable to a memory stick or a network drive and use on all your computers.</p>
</li>
<li>
<p><strong>Simple to use</strong>: EncryptPad is a text editor and an encryption tool for binary files but it saves encrypted, compressed and integrity protected files.</p>
</li>
<li>
<p><strong>Open source</strong> with concise codebase: you can read the code or ask somebody you trust to read it for you to ensure that there are no back doors and your information is safe.</p>
</li>
<li>
<p><strong>OpenPGP</strong> file format: you can encrypt a file with another tool (gpg for example) implementing the format and open it with EncryptPad and vice versa.</p>
</li>
<li>
<p><strong>Double protection:</strong> randomly generated key files in addition to passwords.</p>
</li>
</ul>
<h2>When Do I Need EncryptPad?</h2>
<ul>
<li>
<p>You have a file containing sensitive information such as account names, passwords or ID numbers. It is stored on unprotected media or unwanted people can access the file. Such storage can be a computer at work, carried laptop, memory stick or a cloud drive.</p>
</li>
<li>
<p>You need to send an encrypted file to somebody with whom you prearranged a shared secret (a password or a key file). In this case, you need to exchange the secret personally (not via an accessible Internet protocol) before sending the protected file.</p>
</li>
<li>
<p>You store or receive a file and need to ensure that it has not been modified or corrupted in the process of transmission. EncryptPad uses SHA-1 hashing algorithm to verify integrity. </p>
</li>
<li>
<p>You need protection against a brute force attack in case your storage gets in somebody's hands. EncryptPad allows to generate a key and store it separately from encrypted information. The unwanted person would need two secrets to open an encrypted file: the password and the key. Consider this example: you store your encrypted file on a memory stick, and protect it with a password. In addition to that, you protect the file with a file key and store the key on computers where you open the file. If the memory stick is lost, the password is not enough to decrypt your information. The key file is also needed and it is not on the memory stick.</p>
</li>
</ul>
<h2>When Can I Not Use EncryptPad?</h2>
<ul>
<li>
<p>You need to send a file to somebody with whom you have <strong>not prearranged a shared secret</strong> (a password or a key file). In this case, you need asymmetric encryption with public and private keys. Fortunately, there are many convenient tools suitable for the task. </p>
</li>
<li>
<p>You are on public transport or a common area where <strong>somebody can see your screen</strong>.</p>
</li>
<li>
<p>EncryptPad is not effective on a computer infected with spyware or a virus. Do not use it on a <strong>public, shared or compromised computer</strong> if you do not trust its safety.</p>
</li>
<li>
<p><strong>IMPORTANT</strong>: Before using EncryptPad ensure that it is legal in your country to use encryption ciphers that EncryptPad provides. You may find useful information at <a href="http://www.cryptolaw.org/">cryptolaw.org</a>.</p>
</li>
<li>
<p><strong>IMPORTANT</strong>: If you forgot your password or lost a key file, there is nothing that can be done to open your encrypted information. There are no backdoors in the formats that EncryptPad supports. EncryptPad developers take no responsibility for corrupted or invalid files in accordance with the license.</p>
</li>
</ul>
<h2>Supported Platforms</h2>
<ul>
<li>
<p>Windows</p>
</li>
<li>
<p>Linux</p>
</li>
<li>
<p>Mac OS</p>
</li>
</ul>
<h2>File Types</h2>
<p>The format is determined by an extension of a file. Main extensions of encrypted files are GPG and EPD.</p>
<h3>GPG</h3>
<p>This file type conforms to Open PGP format and it is compatible with other OpenPGP tools. Use it if you need to open a file where EncryptPad is not available. The format does not support double protection (key file + password). So you need to choose between key file or password and cannot use both. In addition, it cannot store file key path in the encrypted file. It means that every time you open a file encrypted with a key file, the application will ask you which key file to use.</p>
<h3>EPD</h3>
<p>EncryptPad specific format. Other OpenPGP software will not be able to open it unless the file was only protected with a password. If password only protection was used, the file is effectively a GPG file (see GPG section above). However, when a key file protection is involved, it is a GPG file in a <a href="https://en.wikipedia.org/wiki/Doom_WAD">WAD</a> container. See the following chapter for details.</p>
<h3>Feature Support</h3>
<table style="border: 1px solid black">
<tr>
<th>Type</th><th>Feature</th><th>Supported</th><th>Key file path\*</th><th>OpenPGP compatible</th><th>File format</th>
</tr>
<tr><td>GPG</td><td>Password</td><td>yes</td><td>n/a</td><td>yes</td><td>OpenPGP file</td></tr>
<tr><td>GPG</td><td>Key file</td><td>yes</td><td>no</td><td>yes</td><td>OpenPGP file</td></tr>
<tr><td>GPG</td><td>Key file and password</td><td>no</td><td>n/a</td><td>n/a</td><td>n/a</td></tr>
<tr><td>EPD</td><td>Password</td><td>yes</td><td>n/a</td><td>yes</td><td>OpenPGP file</td></tr>
<tr><td>EPD</td><td>Key file</td><td>yes</td><td>yes</td><td>no</td><td>Nested: WAD/OpenPGP</td></tr>
<tr><td>EPD</td><td>Key file and password</td><td>yes</td><td>yes</td><td>no</td><td>Nested: OpenPGP/WAD/OpenPGP</td></tr>
</table>

<p>* Key file location is persisted in the header of an encrypted file so the user does not need to specify it when decrypting.</p>
<h2>EPD File Format When Encrypting With a Key</h2>
<p>There are three different structures a saved file can have depending on protection mode:</p>
<ol>
<li>
<p><strong>Password only</strong> (password is used to protect a file but no keys are specified). The file is an ordinary OpenPGP file.</p>
</li>
<li>
<p><strong>Key only</strong> (password is not set but a key file is used for protection). The file is a WAD file. <a href="https://en.wikipedia.org/wiki/Doom_WAD">WAD</a> is a simple format for combining multiple binary files in one. You can open a WAD file in <a href="http://slade.mancubus.net/">Slade</a>. It contains two files internally: </p>
<ul>
<li>OpenPGP file encrypted with the key</li>
<li><code>__X2_KEY</code> is a plain text file containing the path to the key if "persist key path" is enabled. Otherwise, it has zero length.</li>
</ul>
</li>
<li>
<p><strong>Protected with password and key</strong>. The resulting file is an OpenPGP file containing a WAD file as in point 2.</p>
</li>
</ol>
<h2>Use cURL To Automatically Download Keys From A Remote Storage</h2>
<p>If <strong><a href="http://curl.haxx.se/">CURL</a></strong> URL is specified in <strong>Key File Path</strong> field in the <strong>Set Encryption Key</strong> dialog, EncryptPad will attempt to start a curl process to download the key from a remote host. If you want to use this feature, you need to set the path to the CURL executable in the EncryptPad settings. </p>
<p>Consider this use case scenario: you travel with your laptop and open an encrypted file on the laptop. If you protect the file with a password and a key and your laptop is lost or stolen, the perpetrator will be able to make a brute force attack on your file because the key is also stored on the laptop. To avoid it EncryptPad makes the following steps:</p>
<ol>
<li>Encrypts the plain text file with the key</li>
<li>Copies the encrypted file into a WAD file together with the unencrypted HTTPS or SFTP URL to the key file containing authentication parameters.</li>
<li>Encrypts the WAD file from point 2 with the password. </li>
</ol>
<p>If this file gets into the hands of a perpetrator, he or she will need to brute force the password first to be able to obtain the key URL and the authentication parameters. Since a brute force attack takes a lot of time, the user will be able to remove the key or change the authentication so the previous parameters become obsolete.</p>
<h2>Known Weaknesses</h2>
<ul>
<li>EncryptPad stores unencrypted text in memory. If a memory dump is automatically taken after a system or application crash or some of the memory is saved to a swap file, the sensitive information will occur on the disk. Sometimes it is possible to configure an operating system not to use a dump and swap files. It is a good practice to close EncrypPad when not in use.</li>
</ul>
<h2>Command Line Interface</h2>
<p>There is <strong>encrypt_cli</strong> executable to encrypt / decrypt files from command line. Run without arguments to see available parameters. Please note that the decrypted file is saved to a disk.</p>
<h2>Build EncryptPad on Windows</h2>
<h3>Prerequisites</h3>
<ol>
<li><a href="http://www.qt.io/download-open-source/"><strong>Qt framework</strong></a> based on MingW 32 bit (the latest build has been tested with Qt 5.3.2).</li>
<li>MSYS: you can use one bundled with <a href="http://git-scm.com/download/win"><strong>Git For Windows</strong></a>. You probably use Git anyway.</li>
<li>Python: any recent version will work.</li>
</ol>
<h3>Steps</h3>
<ol>
<li>
<p>Modify the session <strong>PATH</strong> environment variable to include the Qt build toolset and Python. <strong>mingw32-make</strong>, <strong>g++</strong>, <strong>qmake</strong>, <strong>python.exe</strong> should be in the global search path in your Git Bash session. I personally modify bash.bashrc and add a line like <code>PATH=$PATH:/c/Python35-32:...</code> not to polute the system wide PATH variable.</p>
</li>
<li>
<p>Extract the EncryptPad source files to a directory.</p>
</li>
<li>
<p>Run <strong>configure.sh</strong> script without parameters to see available options. To build everything:</p>
</li>
</ol>
<blockquote>
<p><strong>./configure.sh --all</strong></p>
</blockquote>
<p>The Makefiles system uses <strong>uname</strong> to identify the OS and platform. You may need to modify uname parameters in <strong>./deps/makefiles/platform.mak</strong> to make it work. See Makefiles documentation and configure.sh script if you have any problems.</p>
<p>If the build is successful, you should see the executable <strong>./build/qt_build/release/EncryptPad.exe</strong></p>
<p>Note that if you want EncryptPad to work as a single executable without dlls, you need to build Qt framework yourself statically. It takes a few hours. There are plenty of instructions on how to do this in the internet. The most popular article recommends using a powershell script. While it is convenient and I did it once, sometimes you don't want to upgrade your powershell and install heavy dependencies coming with it. So the next time I had to do that, I read the script and did everything manually. Luckily there are not too many steps in it.</p>
<h2>Build EncryptPad on Mac/Linux</h2>
<p>It is easier than building on Windows. All you need is to install Qt, Python and run</p>
<blockquote>
<p><strong>./configure.sh --all</strong></p>
</blockquote>
<h2>Acknowledgements</h2>
<p>EncryptPad uses the following frameworks and libraries.</p>
<ol>
<li><a href="http://www.qt.io/"><strong>QT Framework</strong></a></li>
<li><a href="http://botan.randombit.net/"><strong>Botan</strong></a></li>
<li><a href="http://stlplus.sourceforge.net/"><strong>stlplus</strong></a></li>
<li><a href="http://stlplus.sourceforge.net/makefiles/docs/"><strong>Makefiles</strong></a></li>
<li><a href="http://zlib.net/"><strong>zlib</strong></a></li>
<li><a href="http://code.google.com/p/googletest/"><strong>gtest</strong></a></li>
<li><a href="http://www.famfamfam.com/lab/icons/silk/"><strong>famfamfam Silk iconset 1.3</strong></a></li>
</ol>
<h2>EncryptPad Integrity Verification</h2>
<h3>OpenPGP Singing and Certification Authority</h3>
<p>All EncryptPad related downloads are signed with the following OpenPGP key.</p>
<p><code>EncryptPad (Releases) 2048R/A2813E85</code> </p>
<p><code>software@evpo.net</code> </p>
<p><code>Key fingerprint = 634B FC0C CC42 6C74 389D  8931 0F1C FF71 A281 3E85</code></p>
<p>I also have a code signing certificate issued by a certification authority (CA). To establish a connection between my CA certificate and the above OpenPGP key, I created an executable signed with the CA certificate containing fingerprints and the OpenPGP key. You can find <code>ca_signed_pgp_signing_instructions</code> in downloads. Effectively I created a bridge of trust between my CA certificate and the OpenPGP key.</p>
<p>There is a few reasons why I did not simply use the CA certificate:</p>
<ol>
<li>EncryptPad is based on the OpenPGP standard and promotes it.</li>
<li>OpenPGP signing is more flexible.</li>
<li>It does not have the running cost that CA certification incurs.</li>
</ol>
<h3>Step by Step Verfification Process</h3>
<ol>
<li>Download packages and their detached OpenPGP signatures.</li>
<li>Import the EncryptPad (Releases) key to your GPG keyring.</li>
<li>Ensure that it is the valid EncryptPad (Releases) key by checking its fingerprint with <code>ca_signed_pgp_signing_instructions</code>.</li>
<li>Verify signatures on the downloaded files with GPG.</li>
</ol>
<h2>License</h2>
<p>EncryptPad is free software: you can redistribute it and/or modify
it under the terms of the <a href="http://www.gnu.org/licenses/">GNU General Public License</a> as published by
the Free Software Foundation, either version 2 of the License, or
(at your option) any later version.</p>
<p>EncryptPad is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>
<h2>Contacts and Feedback</h2>
<p>Evgeny Pokhilko </p>
<p>software@evpo.net</p>
<p><a href="http://www.evpo.net/encryptpad">http://www.evpo.net/encryptpad</a></p>